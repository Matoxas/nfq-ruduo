{"remainingRequest":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/components/orders.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/components/orders.vue","mtime":1537799754208},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data(){\n    return{\n      items_per_page : 5,\n      pageNumber: 1,\n      currentSort:'id',\n      currentSortDir:'asc'\n\n    }\n  },\n\n  created(){\n\n    this.sort(this.currentSort);\n  },\n\n  methods:{\n    round(input){\n      return Math.round(input * 100)/100;\n    },\n\n    search(input, phrase){\n      return input.filter(post =>{\n      return post.user.name.toLowerCase().includes(phrase.toLowerCase())\n      })\n    },\n\n    paginate(input){\n    const start = (this.pageNumber-1) * Number(this.items_per_page),\n          end = start + Number(this.items_per_page);\n     return input.slice(start, end);\n   },\n\n   nextPage(){\n      this.pageNumber++;\n   },\n   prevPage(){\n     this.pageNumber--;\n   },\n\n    details(order){\n\n    },\n\n    sort(column){\n      //puslapio numerį pakeičiam į pirmą\n      this.pageNumber = 1;\n      //if s == current sort, reverse\n    if(column == this.currentSort) {\n      this.currentSortDir = this.currentSortDir=='asc'?'desc':'asc';\n    }\n      this.currentSort = column;\n      this.$store.commit('sort', {currentSort : this.currentSort, currentSortDir: this.currentSortDir});\n    }\n\n  },\n\n  computed:{\n\n    phrase(){\n      return this.$store.getters.search;\n    },\n\n    total_orders(){\n      return this.$store.getters.orders;\n    },\n\n//atvaizduojam galutini rezultata su paginacija ir paieska\n\n    orders() {\n      return this.paginate(this.search(this.total_orders, this.phrase));\n\n   },\n\n   // skaiciuojam kiek puslapių bus po kiekvieno pasikeitimo\n\n   pageCount(){\n      let l = this.search(this.total_orders, this.phrase).length,\n          s = Number(this.items_per_page);\n      return Math.floor(l/s);\n    }\n},\n  watch:{\n\n    phrase : function (){\n      this.pageNumber = 1;\n    }\n\n  }\n}\n\n\n",{"version":3,"sources":["orders.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"orders.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\n  <div class=\"orders\">\n    <table class=\"table table-bordered text-left\">\n  <thead>\n    <tr class=\"columns\">\n      <th @click=\"sort('id')\" :class=\"{active:currentSort == 'id'}\" scope=\"col\">\n        <p class=\"float-left\">#</p>\n        <i class=\"fas fa-sort float-right\"></i>\n        <i class=\"fas sort-icon float-right\" :class=\"currentSortDir == 'asc' ? 'fa-sort-up' : 'fa-sort-down' \"></i>\n      </th>\n      <th @click=\"sort('name')\" :class=\"{active:currentSort == 'name'}\" scope=\"col\">\n        <p class=\"float-left\">Vardas</p>\n        <i class=\"fas fa-sort float-right\"></i>\n        <i class=\"fas sort-icon float-right\" :class=\"currentSortDir == 'asc' ? 'fa-sort-up' : 'fa-sort-down' \"></i>\n\n      </th>\n      <th @click=\"sort('email')\" :class=\"{active:currentSort == 'email'}\" scope=\"col\">\n        <p class=\"float-left\">El.Paštas</p>\n        <i class=\"fas fa-sort float-right\"></i>\n        <i class=\"fas sort-icon float-right\" :class=\"currentSortDir == 'asc' ? 'fa-sort-up' : 'fa-sort-down' \"></i>\n\n      </th>\n      <th @click=\"sort('timestamp')\" :class=\"{active:currentSort == 'timestamp'}\" scope=\"col\">\n        <p class=\"float-left\">Užsakymo data</p>\n        <i class=\"fas fa-sort float-right\"></i>\n        <i class=\"fas sort-icon float-right\" :class=\"currentSortDir == 'asc' ? 'fa-sort-up' : 'fa-sort-down' \"></i>\n\n      </th>\n      <th @click=\"sort('total')\" :class=\"{active:currentSort == 'total'}\" scope=\"col\">\n        <p class=\"float-left\">Suma</p>\n        <i class=\"fas fa-sort float-right\"></i>\n        <i class=\"fas sort-icon float-right\" :class=\"currentSortDir == 'asc' ? 'fa-sort-up' : 'fa-sort-down' \"></i>\n        \n      </th>\n      <th scope=\"col\">\n        <p class=\"float-left\">Veiksmas</p>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-for=\"order in orders\">\n      <th scope=\"row\">{{order.id}}</th>\n      <td>{{order.user.name}}</td>\n      <td>{{order.user.email}}</td>\n      <td>{{order.timestamp}}</td>\n      <td>€{{round(order.total)}}</td>\n      <td><button class=\"btn btn-light\" @click=\"details(order)\">detaliau</button></td>\n    </tr>\n  </tbody>\n</table>\n\n<div class=\"flex\">\n    <nav aria-label=\"...\">\n      <ul class=\"pagination\">\n        <li class=\"page-item\" :class=\"{disabled : pageNumber-1<1}\">\n          <a @click.prevent=\"prevPage()\" class=\"page-link\">Atgal</a>\n        </li>\n        <li class=\"page-item\" :class=\"{disabled : pageNumber-1<1}\"><a class=\"page-link\" @click.prevent=\"prevPage()\" href=\"#\">{{pageNumber-1}}</a></li>\n        <li class=\"page-item active\">\n          <span class=\"page-link\">\n            {{pageNumber}}\n            <span class=\"sr-only\">{{pageNumber}}</span>\n          </span>\n        </li>\n        <li class=\"page-item\" :class=\"{disabled : pageNumber >= pageCount}\" ><a class=\"page-link\" @click.prevent=\"nextPage()\" href=\"#\">{{pageNumber+1}}</a></li>\n        <li class=\"page-item\" :class=\"{disabled : pageNumber >= pageCount}\">\n          <a class=\"page-link\" @click.prevent=\"nextPage()\" href=\"#\">Pirmyn</a>\n        </li>\n      </ul>\n    </nav>\n        <label>Viso puslapių: {{pageCount}}</label>\n    <div>\n      <form class=\"form-inline\">\n        <label class=\"\" for=\"exampleSelect1\">Įrašų puslapyje: </label>\n  <select class=\"form-control mb-2 mr-sm-2 mb-sm-0\" @change=\"pageNumber=1\" v-model=\"items_per_page\" id=\"exampleSelect1\">\n    <option>5</option>\n    <option>10</option>\n    <option>20</option>\n  </select>\n        <!-- <input type=\"text\" class=\"form-control mb-2 mr-sm-2 mb-sm-0\" id=\"inlineFormInput\" placeholder=\"Jane Doe\"> -->\n      </form>\n    </div>\n  </div>\n\n\n\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n      items_per_page : 5,\n      pageNumber: 1,\n      currentSort:'id',\n      currentSortDir:'asc'\n\n    }\n  },\n\n  created(){\n\n    this.sort(this.currentSort);\n  },\n\n  methods:{\n    round(input){\n      return Math.round(input * 100)/100;\n    },\n\n    search(input, phrase){\n      return input.filter(post =>{\n      return post.user.name.toLowerCase().includes(phrase.toLowerCase())\n      })\n    },\n\n    paginate(input){\n    const start = (this.pageNumber-1) * Number(this.items_per_page),\n          end = start + Number(this.items_per_page);\n     return input.slice(start, end);\n   },\n\n   nextPage(){\n      this.pageNumber++;\n   },\n   prevPage(){\n     this.pageNumber--;\n   },\n\n    details(order){\n\n    },\n\n    sort(column){\n      //puslapio numerį pakeičiam į pirmą\n      this.pageNumber = 1;\n      //if s == current sort, reverse\n    if(column == this.currentSort) {\n      this.currentSortDir = this.currentSortDir=='asc'?'desc':'asc';\n    }\n      this.currentSort = column;\n      this.$store.commit('sort', {currentSort : this.currentSort, currentSortDir: this.currentSortDir});\n    }\n\n  },\n\n  computed:{\n\n    phrase(){\n      return this.$store.getters.search;\n    },\n\n    total_orders(){\n      return this.$store.getters.orders;\n    },\n\n//atvaizduojam galutini rezultata su paginacija ir paieska\n\n    orders() {\n      return this.paginate(this.search(this.total_orders, this.phrase));\n\n   },\n\n   // skaiciuojam kiek puslapių bus po kiekvieno pasikeitimo\n\n   pageCount(){\n      let l = this.search(this.total_orders, this.phrase).length,\n          s = Number(this.items_per_page);\n      return Math.floor(l/s);\n    }\n},\n  watch:{\n\n    phrase : function (){\n      this.pageNumber = 1;\n    }\n\n  }\n}\n\n\n</script>\n\n<style lang=\"css\">\n\n  .page-link{\n    color: #495057;\n  }\n\n.page-item.active .page-link{\n  background-color: #343a40;\n  border-color: #343a40;\n}\n\n#exampleSelect1{\n  margin-left: .5em;\n  margin-right: 0 !important;\n}\n\nnav{\n  margin-right: .5em;\n}\n\n.col-sm-6{\n  display: flex;\n  justify-content: flex-end;\n}\n\n.col-sm-6:first-child{\n  justify-content: flex-start;\n}\n\n.col-sm-6 p{\n  margin-top: .5rem;\n}\n\n.columns th:hover{\n  cursor: pointer;\n  color: black;\n}\n\nth.active{\n  background-color: #f8f9fa;\n  color: black;\n}\n\nth.active:hover{\n\n}\n\nth p{\n  margin-bottom: 0;\n}\n\nth .fas{\n  line-height: 1.25;\n}\n\n.active .fa-sort{\n  display: none;\n}\n\n.flex{\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n\n.flex label{\n  padding: 0;\n  padding-top: .5rem;\n  margin: 0;\n}\n\n.form-inline label{\n  padding: 0;\n}\n\n.sort-icon{\n  display: none;\n}\n\n.active .sort-icon{\n  display: inline-block;\n}\n\n\n\n</style>\n"]}]}
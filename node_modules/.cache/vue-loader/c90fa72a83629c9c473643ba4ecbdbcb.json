{"remainingRequest":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/components/cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/components/cart.vue","mtime":1537904614204},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data(){\n    return{\n    }\n  },\n\n  created(){\n\n  },\n\n  computed:{\n\n    products(){\n      return this.$store.getters.cartProducts;\n    },\n\n    total(){\n\n      return (Math.round(this.products.reduce((total, p) => total + p.price * p.quantity, 0)*100)/100);\n\n    }\n  },\n  methods:{\n    remove(item){\n        let index = this.products.indexOf(item);\n        this.$store.commit('removeItem',index);\n    },\n\n    back(){\n      window.history.back()\n    },\n\n    quantitychange(item){\n      let index = this.products.indexOf(item);\n      if (item.quantity < 1){\n        alert('kiekis negali būti mažiau nei 1 ;)');\n        item.quantity = 1;\n      }else if(item.quantity >99){\n        alert('kiekis negali būti daugiau nei 99 ;)');\n        item.quantity = 99;\n      }\n\n      let data = [index, item.quantity]\n      this.$store.commit('updateQuantity',data);\n    }\n  }\n}\n",{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"cart.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"cart\">\n    <h2 class=\"title\">Jūsų krepšelis</h2>\n    <br>\n    <p v-show=\"!products.length\">\n      <i>jūsų krepšelis tuščias! </i>\n      <router-link to=\"/\">Į parduotuvę</router-link>\n    </p>\n    <div class=\"table-responsive\">\n      <table class=\"table is-striped\" v-show=\"products.length\">\n        <thead>\n          <tr>\n            <td>Pavadinimas</td>\n            <td>Kaina</td>\n            <td>Kiekis</td>\n            <td>Veiksmas</td>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"p in products\">\n              <td>{{ p.name }}</td>\n              <td>€{{ p.price }}</td>\n              <td><input type=\"number\" @change=\"quantitychange(p)\" v-model=\"p.quantity\"></td>\n              <td><button class=\"btn btn-light\" @click=\"remove(p)\">pašalinti</button></td>\n              <!-- <td><p @click=\"remove(p)\" class=\"bold\">pašalinti</p></td> -->\n            </tr>\n            <tr>\n              <td><b>Viso:</b></td>\n              <td><b>€{{ total }}</b></td>\n              <td></td>\n              <td>\n                <router-link tag=\"button\" class=\"btn btn-dark\" to=\"/order\"  type=\"button\" name=\"button\">užsakyti</router-link>\n              </td>\n              <br>\n            </tr>\n        </tbody>\n      </table>\n    </div>\n    <!-- <p><button v-show=\"products.length\" class='button is-primary' @click='checkout'>Užsakyti</button></p> -->\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n    }\n  },\n\n  created(){\n\n  },\n\n  computed:{\n\n    products(){\n      return this.$store.getters.cartProducts;\n    },\n\n    total(){\n\n      return (Math.round(this.products.reduce((total, p) => total + p.price * p.quantity, 0)*100)/100);\n\n    }\n  },\n  methods:{\n    remove(item){\n        let index = this.products.indexOf(item);\n        this.$store.commit('removeItem',index);\n    },\n\n    back(){\n      window.history.back()\n    },\n\n    quantitychange(item){\n      let index = this.products.indexOf(item);\n      if (item.quantity < 1){\n        alert('kiekis negali būti mažiau nei 1 ;)');\n        item.quantity = 1;\n      }else if(item.quantity >99){\n        alert('kiekis negali būti daugiau nei 99 ;)');\n        item.quantity = 99;\n      }\n\n      let data = [index, item.quantity]\n      this.$store.commit('updateQuantity',data);\n    }\n  }\n}\n</script>\n\n<style lang=\"css\">\n\n.cart{\n  text-align: left;\n}\n\n.bold:hover{\n  cursor: pointer;\n  text-decoration: underline;\n  color: black;\n}\n.btn{\n  margin-right: .5em;\n}\n\n</style>\n"]}]}
{"remainingRequest":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/thread-loader/dist/cjs.js!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/babel-loader/lib/index.js!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/eslint-loader/index.js??ref--13-0!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/store.js","dependencies":[{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/store.js","mtime":1537792873305},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport products from './assets/products.json';\nVue.use(Vuex);\nvar state = {\n  added: [],\n  // į krepšelį pridėtos prekės\n  all: [],\n  // produktai\n  orders: [],\n  //užsakymai\n  search: '' // paieškos frazė\n\n};\nvar getters = {\n  added: function added(state) {\n    return state.added;\n  },\n  search: function search(state) {\n    return state.search;\n  },\n  orders: function orders(state) {\n    return state.orders;\n  },\n  allProducts: function allProducts(state) {\n    return state.all;\n  },\n  cartProducts: function cartProducts(state) {\n    return state.added.map(function (_ref) {\n      var id = _ref.id,\n          quantity = _ref.quantity;\n      var product = state.all.find(function (p) {\n        return p.id === id;\n      });\n      return {\n        name: product.name,\n        price: product.price,\n        quantity: quantity\n      };\n    });\n  }\n};\nvar actions = {\n  addtocart: function addtocart(_ref2, product) {\n    var commit = _ref2.commit;\n    commit('addtocart', product.id);\n  }\n};\nvar mutations = {\n  sort: function sort(state, p) {\n    var direction = p.currentSortDir == 'asc' ? 1 : -1;\n    state.orders.sort(function (a, b) {\n      //\n      if (p.currentSort == 'email' || p.currentSort == 'name') {\n        a = a.user[p.currentSort];\n        b = b.user[p.currentSort];\n      } else {\n        a = a[p.currentSort];\n        b = b[p.currentSort];\n      }\n\n      if (isNaN(a)) a = a.toLowerCase();\n      if (isNaN(b)) b = b.toLowerCase();\n      if (a < b) return -1 * direction;\n      if (a > b) return 1 * direction;\n      return 0;\n    });\n  },\n  addtocart: function addtocart(state, product_id) {\n    var record = state.added.find(function (p) {\n      return p.id === product_id;\n    });\n\n    if (!record) {\n      state.added.push({\n        id: product_id,\n        quantity: 1\n      });\n    } else {\n      record.quantity++;\n    }\n\n    alert('produktas sėkmingai pridėtas į krepšelį.');\n  },\n  removeItem: function removeItem(state, index) {\n    state.added.splice(index, 1);\n  },\n  makeOrder: function makeOrder(state, order) {\n    state.orders.push(order);\n  },\n  updateQuantity: function updateQuantity(State, data) {\n    var index = data[0];\n    var quantity = data[1];\n    state.added[index].quantity = quantity;\n  },\n  setSearch: function setSearch(State, data) {\n    state.search = data;\n  },\n  setSomething: function setSomething(state, object) {\n    state[object.name] = object.content;\n  }\n};\nexport default new Vuex.Store({\n  state: state,\n  getters: getters,\n  actions: actions,\n  mutations: mutations\n});",{"version":3,"sources":["/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/store.js"],"names":["Vue","Vuex","products","use","state","added","all","orders","search","getters","allProducts","cartProducts","map","id","quantity","product","find","p","name","price","actions","addtocart","commit","mutations","sort","direction","currentSortDir","a","b","currentSort","user","isNaN","toLowerCase","product_id","record","push","alert","removeItem","index","splice","makeOrder","order","updateQuantity","State","data","setSearch","setSomething","object","content","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport products from './assets/products.json';\nVue.use(Vuex)\n\nconst state = {\n  added : [], // į krepšelį pridėtos prekės\n  all: [],  // produktai\n  orders: [], //užsakymai\n  search: ''  // paieškos frazė\n\n};\n\nconst getters = {\n  added: state => state.added,\n  search: state => state.search,\n  orders: state => state.orders,\n  allProducts: state => state.all,\n  cartProducts: state =>  state.added.map(({id,quantity}) =>{\n      let product = state.all.find(p => p.id === id)\n    return {\n      name : product.name,\n      price: product.price,\n      quantity\n    }\n  }),\n\n};\n\nconst actions ={\n\taddtocart({ commit }, product){\n\t\tcommit('addtocart', product.id)\n\t}\n}\n\nconst mutations = {\n\n  sort(state, p){\n\n    let direction = p.currentSortDir == 'asc'? 1: -1;\n\n    state.orders.sort((a,b)=>{\n      //\n      if((p.currentSort == 'email') || (p.currentSort == 'name')) {\n        a = a.user[p.currentSort];\n        b = b.user[p.currentSort];\n      }else {\n        a = a[p.currentSort];\n        b = b[p.currentSort];\n      }\n\n      if (isNaN(a)) a=a.toLowerCase();\n      if (isNaN(b)) b=b.toLowerCase();\n\n      if(a < b) return -1 * direction;\n      if(a > b) return 1 * direction;\n      return 0;\n    });\n  },\n\n\taddtocart (state, product_id ) {\n\t    const record = state.added.find(p => p.id === product_id)\n\n\t    if (!record) {\n\t      state.added.push({\n\t        id: product_id,\n\t        quantity: 1\n\t      })\n\t    } else {\n\t      record.quantity++\n      }\n      alert('produktas sėkmingai pridėtas į krepšelį.');\n\t    },\n\n    removeItem(state, index){\n      state.added.splice(index, 1);\n    },\n\n    makeOrder(state, order){\n      state.orders.push(order);\n    },\n\n    updateQuantity(State, data){\n      let index = data[0];\n      let quantity = data[1];\n      state.added[index].quantity = quantity;\n    },\n\n    setSearch(State, data){\n      state.search = data;\n    },\n\n    setSomething(state, object){\n      state[object.name] = object.content;\n    },\n  }\n\n\n\nexport default new Vuex.Store({\n\tstate,\n\tgetters,\n\tactions,\n\tmutations\n})\n"]}]}
{"remainingRequest":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/thread-loader/dist/cjs.js!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/babel-loader/lib/index.js!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/components/order.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/src/components/order.vue","mtime":1537300639422},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/cache-loader/dist/cjs.js","mtime":1536695446428},{"path":"/Users/mataskazanavicius/Desktop/Trash/nfqRuduo/projektas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  computed: {\n    products: function products() {\n      return this.$store.getters.cartProducts;\n    },\n    cansubmit: function cansubmit() {\n      return this.user.name.length > 0 && this.user.email.length > 0;\n    }\n  },\n  data: function data() {\n    return {\n      user: {\n        name: '',\n        email: '',\n        description: ''\n      },\n      order: {\n        id: 0,\n        timestamp: '',\n        user: {},\n        cart: {},\n        total: 0\n      }\n    };\n  },\n  methods: {\n    submit: function submit() {\n      if (!this.cansubmit) {\n        alert(\"patikrinkite ar įvedėte visus duomenis\");\n      } else {\n        this.order.id = this.$store.getters.orders.length;\n        this.order.timestamp = this.timeconverter(Date.now());\n        this.order.user = this.user;\n        this.order.cart = this.products;\n        this.order.total = Math.round(this.products.reduce(function (total, p) {\n          return total + p.price * p.quantity;\n        }, 0) * 100) / 100;\n        this.$store.commit('makeOrder', this.order);\n        localStorage.setItem('orders', JSON.stringify(this.$store.getters.orders)); //nunuliname localStorage krepšelį\n\n        this.$store.commit('setSomething', {\n          name: 'added',\n          content: []\n        });\n        localStorage.setItem('added', JSON.stringify(this.$store.getters.added)); //atnaujiname localstorage orders objektą\n\n        this.$router.push('/');\n        alert(\"Sveikiname! Užsakymas sėkmingai atliktas, netrukus su jumis susisieksime\");\n      }\n    },\n    timeconverter: function timeconverter(timestamp) {\n      var a = new Date(timestamp);\n      var months = ['01', '02', '03', '03', '04', '06', '07', '08', '09', '10', '11', '12'];\n      var year = a.getFullYear();\n      var month = months[a.getMonth()];\n      var date = a.getDate();\n      var hour = a.getHours();\n      var min = a.getMinutes();\n      var sec = a.getSeconds();\n      var time = year + '-' + month + '-' + date + ' ' + +hour + ':' + min;\n      return time;\n    }\n  }\n};",{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,YAAA;AAEA,YAFA,sBAEA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,YAAA;AACA,KAJA;AAMA,aANA,uBAMA;AACA,aAAA,KAAA,IAAA,CAAA,IAAA,CAAA,MAAA,GAAA,CAAA,IAAA,KAAA,IAAA,CAAA,KAAA,CAAA,MAAA,GAAA,CAAA;AACA;AARA,GADA;AAWA,MAXA,kBAWA;AACA,WAAA;AACA,YAAA;AACA,cAAA,EADA;AAEA,eAAA,EAFA;AAGA,qBAAA;AAHA,OADA;AAMA,aAAA;AACA,YAAA,CADA;AAEA,mBAAA,EAFA;AAGA,cAAA,EAHA;AAIA,cAAA,EAJA;AAKA,eAAA;AALA;AANA,KAAA;AAcA,GA1BA;AA2BA,WAAA;AACA,UADA,oBACA;AAEA,UAAA,CAAA,KAAA,SAAA,EAAA;AACA,cAAA,wCAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,CAAA,EAAA,GAAA,KAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,MAAA;AACA,aAAA,KAAA,CAAA,SAAA,GAAA,KAAA,aAAA,CAAA,KAAA,GAAA,EAAA,CAAA;AACA,aAAA,KAAA,CAAA,IAAA,GAAA,KAAA,IAAA;AACA,aAAA,KAAA,CAAA,IAAA,GAAA,KAAA,QAAA;AACA,aAAA,KAAA,CAAA,KAAA,GAAA,KAAA,KAAA,CAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,KAAA,EAAA,CAAA;AAAA,iBAAA,QAAA,EAAA,KAAA,GAAA,EAAA,QAAA;AAAA,SAAA,EAAA,CAAA,IAAA,GAAA,IAAA,GAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA,KAAA;AACA,qBAAA,OAAA,CAAA,QAAA,EAAA,KAAA,SAAA,CAAA,KAAA,MAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAPA,CASA;;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA;AAAA,gBAAA,OAAA;AAAA,mBAAA;AAAA,SAAA;AACA,qBAAA,OAAA,CAAA,OAAA,EAAA,KAAA,SAAA,CAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA,EAXA,CAYA;;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,cAAA,0EAAA;AACA;AAEA,KAtBA;AAwBA,iBAxBA,yBAwBA,SAxBA,EAwBA;AACA,UAAA,IAAA,IAAA,IAAA,CAAA,SAAA,CAAA;AACA,UAAA,SAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAA;AACA,UAAA,OAAA,EAAA,WAAA,EAAA;AACA,UAAA,QAAA,OAAA,EAAA,QAAA,EAAA,CAAA;AACA,UAAA,OAAA,EAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,QAAA,EAAA;AACA,UAAA,MAAA,EAAA,UAAA,EAAA;AACA,UAAA,MAAA,EAAA,UAAA,EAAA;AACA,UAAA,OAAA,OAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,GAAA,GAAA,GAAA,CAAA,IAAA,GAAA,GAAA,GAAA,GAAA;AACA,aAAA,IAAA;AACA;AAnCA;AA3BA,CAAA","sourcesContent":["<template lang=\"html\">\n  <div v-if=\"products.length\" class=\"order\">\n    <h2>Paskutinis žingsnis</h2>\n    <p>įveskite asmeninius duomenis pagal kuriuos susisieksime dėl tolimesnių apmokėjimo instrukcijų</p>\n\n    <form>\n  <div class=\"form-group row\">\n    <label for=\"name\" class=\"col-sm-2 col-form-label\">Vardas:</label>\n    <div class=\"col-sm-4\">\n      <input type=\"name\" class=\"form-control\" v-model=\"user.name\" id=\"name\" placeholder=\"Vardenis Pavardenis\">\n    </div>\n    <label for=\"email\" class=\"col-sm-2 col-form-label\">El. Paštas:</label>\n    <div class=\"col-sm-4\">\n      <input type=\"email\" class=\"form-control\" v-model=\"user.email\" id=\"email\" placeholder=\"pavyzdys@gmail.com\">\n    </div>\n  </div>\n  <div class=\"form-group row\">\n    <label for=\"description\" class=\"col-sm-2 col-form-label\">Pastabos:</label>\n    <div class=\"col-sm-10\">\n      <textarea name=\"name\" class=\"form-control\" v-model=\"user.description\" id=\"description\" placeholder=\"čia galite palikti žinutę pardavėjui\"></textarea>\n    </div>\n  </div>\n   <button type=\"submit\" :class=\"{ disabled: !cansubmit }\"  @click.prevent=\"submit()\" class=\"btn btn-dark\">Užsakyti</button>\n</form>\n  </div>\n  <div v-else class=\"order\">\n    <i>Jūs nieko neužsakote! </i>\n    <router-link to=\"/\">Į parduotuvę</router-link>\n  </div>\n\n</template>\n\n<script>\nexport default {\n  computed:{\n\n    products(){\n      return this.$store.getters.cartProducts;\n    },\n\n    cansubmit(){\n      return (this.user.name.length>0 && this.user.email.length>0);\n    }\n  },\n  data(){\n    return{\n      user: {\n        name : '',\n        email: '',\n        description: ''\n      },\n      order:{\n        id : 0,\n        timestamp: '',\n        user: {},\n        cart: {},\n        total: 0\n      }\n    }\n  },\n  methods:{\n    submit(){\n\n      if(!this.cansubmit){\n        alert(\"patikrinkite ar įvedėte visus duomenis\");\n      }else{\n        this.order.id = this.$store.getters.orders.length;\n        this.order.timestamp = this.timeconverter(Date.now());\n        this.order.user = this.user;\n        this.order.cart = this.products;\n        this.order.total = Math.round(this.products.reduce((total, p) => total + p.price * p.quantity, 0)*100)/100;\n        this.$store.commit('makeOrder', this.order);\n        localStorage.setItem('orders', JSON.stringify(this.$store.getters.orders));\n        \n        //nunuliname localStorage krepšelį\n        this.$store.commit('setSomething', {name : 'added', content: [] });\n        localStorage.setItem('added', JSON.stringify(this.$store.getters.added));\n        //atnaujiname localstorage orders objektą\n        this.$router.push('/');\n        alert(\"Sveikiname! Užsakymas sėkmingai atliktas, netrukus su jumis susisieksime\");\n      }\n\n    },\n\n    timeconverter(timestamp){\n      var a = new Date(timestamp);\n      var months = ['01','02','03','03','04','06','07','08','09','10','11','12'];\n      var year = a.getFullYear();\n      var month = months[a.getMonth()];\n      var date = a.getDate();\n      var hour = a.getHours();\n      var min = a.getMinutes();\n      var sec = a.getSeconds();\n      var time = year + '-' + month +'-' + date +' '+ + hour + ':' + min;\n      return time;\n    }\n  },\n}\n</script>\n\n<style lang=\"css\">\n.order{\n  text-align: left;\n}\n\n.order p{\n  padding-bottom: 1em;\n  border-bottom: 1px solid #dee2e6;\n}\n</style>\n"],"sourceRoot":"src/components"}]}